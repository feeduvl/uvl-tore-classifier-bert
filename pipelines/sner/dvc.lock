schema: '2.0'
stages:
  import_data:
    cmd: python src/cmd/import.py --dataset forum  --dataset prolific
    deps:
    - path: src/data/data/
      hash: md5
      md5: ebc8f796a81fe8427cab71922cf2bcd7.dir
      size: 9427716
      nfiles: 7
    outs:
    - path: src/data/temp/imported_dataset.pickle
      hash: md5
      md5: 698e552a58740da18c048805a33c7721
      size: 3775632
  sample_data:
    cmd: python src/cmd/sample.py --test_size 0.2 --random_state 125
    deps:
    - path: src/data/temp/imported_dataset.pickle
      hash: md5
      md5: 698e552a58740da18c048805a33c7721
      size: 3775632
    outs:
    - path: src/data/temp/sampled/labels_test.pickle
      hash: md5
      md5: 5c0b5a41ce5957f6de75914ce187e4a1
      size: 417831
    - path: src/data/temp/sampled/labels_train.pickle
      hash: md5
      md5: 31ddf8295bb986474b74c91fbd01afbd
      size: 1741417
    - path: src/data/temp/sampled/text_test.pickle
      hash: md5
      md5: 9b9caca6ffad9e980e59dc0746edf1d1
      size: 47878
    - path: src/data/temp/sampled/text_train.pickle
      hash: md5
      md5: a65ad55c6b1f0734e53763bbdae10ef9
      size: 197353
  train_sner:
    cmd: python src/cmd/train_sner.py
    deps:
    - path: src/data/temp/sampled/labels_train.pickle
      hash: md5
      md5: 31ddf8295bb986474b74c91fbd01afbd
      size: 1741417
    outs:
    - path: src/classifiers/sner/temp/sner.ser.gz
      hash: md5
      md5: 33f21884ff7c3a4cb6fbb86f1fa04bdc
      size: 27309419
    - path: src/classifiers/sner/temp/sner_config_file.prop
      hash: md5
      md5: a924dafcc30c04040d6dcaf4df2890e6
      size: 591
    - path: src/classifiers/sner/temp/sner_train_file.txt
      hash: md5
      md5: 90b2fd101b10f2247e9e700f123161eb
      size: 320328
  classify_sner:
    cmd: python src/cmd/classify_sner.py
    deps:
    - path: src/classifiers/sner/temp/sner.ser.gz
      hash: md5
      md5: 33f21884ff7c3a4cb6fbb86f1fa04bdc
      size: 27309419
    - path: src/data/temp/sampled/text_test.pickle
      hash: md5
      md5: 9b9caca6ffad9e980e59dc0746edf1d1
      size: 47878
    outs:
    - path: src/classifiers/sner/temp/classification_result.pickle
      hash: md5
      md5: 7518dfc9521e692b5b48b96db69eea1f
      size: 108437
  evaluate_sner:
    cmd: python src/cmd/evaluate_sner.py
    deps:
    - path: src/classifiers/sner/temp/classification_result.pickle
      hash: md5
      md5: 7518dfc9521e692b5b48b96db69eea1f
      size: 108437
    - path: src/data/temp/sampled/labels_test.pickle
      hash: md5
      md5: 5c0b5a41ce5957f6de75914ce187e4a1
      size: 417831
    outs:
    - path: src/classifiers/sner/temp/eval/live/metrics.json
      hash: md5
      md5: 8c91a6e384c5d863f1da16febdeafe82
      size: 75
    - path: src/classifiers/sner/temp/eval/live/plots/sklearn/confusion_matrix.json
      hash: md5
      md5: 8d137acbcfcd2b88610be8ff34bf8f02
      size: 517738
